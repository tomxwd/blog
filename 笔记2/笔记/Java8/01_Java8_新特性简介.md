---
2019-09-02 14:14:00

---

#

主要内容：

1. Lambda表达式
2. 函数式接口
3. 方法引用与构造器引用
4. Stream API
5. 接口中的默认方法与静态方法
6. 新时间日期API
7. 其他新特性



Java8新特性简介

- 速度更快

  - 底层的数据结构进行了更新和改动

    - 如HashMap的**数组-链表**结构更新为**数组-链表-红黑树**结构（符合条件的情况下）【除了添加的时候，其他行为都比之前效率高】；
    - 如ConcurrentHashMap也进行了升级，JDK7的时候concurrentLevel（并发级别）是16，锁分段机制，JDK8改用CAS算法（无锁算法）

  - 内存结构也进行了改变

    - JDK7的栈堆方法区，方法区属于堆中永久区的一部分，JDK8以后永久区彻底被去掉，新增元空间（MetaSpace），使用的是物理内存，也就是主机的内存剩多大，元空间就可以用多大。那么以前JDK7当方法区快要满的时候，垃圾回收机制就会对方法区进行回收，而JDK8用的是物理内存，进行垃圾回收的前提是物理内存快要满的时候，也就减少了垃圾回收的频率；

      JDK7以前的虚拟机参数PremGenSize和MaxPremGenSize在JDK8后失效，取而代之的是MetaSpaceSize和MaxMetaSpaceSize（默认是物理内存多大，元空间就可以用多大）；

- 代码更少（增加了新的语法Lambda表达式）

- 强大的Stream API

- 便于并行

  - fork/join框架

- 最大化减少空指针异常Optional

- JDK8以前匿名内部类要用外部局部变量，需要声明为final，而JDK8以后则不用，但是在匿名内部类中还是不能改变外部变量的值的。

**其中最为核心的为Lambda表达式与Stream API**；

